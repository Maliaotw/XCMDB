from celery import shared_task, Task, subtask
from hosts import models as host_models
from pyesxi import dellemc_get_system_inventory
from src import create_one
from settings.models import Setting, settings

class DellSync:

    def __init__(self, ip, port='443'):

        _idrac = self.get_iDRAC_data
        self.idrac_data = dellemc_get_system_inventory(
            idrac_ip=ip,
            idrac_port=port,
            idrac_user=_idrac['idrac_user'],
            idrac_passwd=_idrac['idrac_passwd']
        )

        self._result = []
        self._status_list = []

        self.run()

    @property
    def result(self):
        return "\n".join(self._result)

    @property
    def get_iDRAC_data(self):
        data = {}
        setting_objs = Setting.objects.filter(name__contains="IDRAC")
        if setting_objs:
            for i in setting_objs:
                data.update({i.name.lower(): i.cleaned_value})
        else:
            data.update(
                {
                    'idrac_user': settings.IDRAC_USER,
                    'idrac_passwd': settings.IDRAC_PASSWD,

                }
            )
        return data

    def create_obj(self, model_class, data, filter_data):

        data = create_one(model_class, data, filter_data)

        self._result.append("%s %s" % (model_class.__name__, data['message']))
        self._status_list.append(data['code'])

        # print(data['message'])

        return data['obj']

    def get_data(self):
        return {
            'BIOS': [{'BIOSReleaseDate': '001/22/2018',
                      'FQDD': 'BIOS.Setup.1-1',
                      'InstanceID': 'DCIM:INSTALLED#741__BIOS.Setup.1-1',
                      'Key': 'DCIM:INSTALLED#741__BIOS.Setup.1-1',
                      'SMBIOSPresent': 'True',
                      'VersionString': '2.7.1'}],
            'CPU': [{'CPUFamily': 'Intel(R) Xeon(TM)',
                     'Characteristics': '64-bit capable',
                     'CurrentClockSpeed': '2.1 GHz',
                     'DeviceDescription': 'CPU 1',
                     'ExecuteDisabledCapable': 'Yes',
                     'ExecuteDisabledEnabled': 'Yes',
                     'FQDD': 'CPU.Socket.1',
                     'HyperThreadingCapable': 'Yes',
                     'HyperThreadingEnabled': 'Yes',
                     'Key': 'CPU.Socket.1',
                     'Manufacturer': 'Intel',
                     'MaxClockSpeed': '4.0 GHz',
                     'Model': 'Intel(R) Xeon(R) CPU E5-2620 v4 @ 2.10GHz',
                     'NumberOfEnabledCores': '8',
                     'NumberOfEnabledThreads': '16',
                     'NumberOfProcessorCores': '8',
                     'PrimaryStatus': 'Healthy',
                     'TurboModeCapable': 'Yes',
                     'TurboModeEnabled': 'Yes',
                     'VirtualizationTechnologyCapable': 'Yes',
                     'VirtualizationTechnologyEnabled': 'Yes',
                     'Voltage': '1.3',
                     'processorDeviceStateSettings': 'Not Available'},
                    {'CPUFamily': 'Intel(R) Xeon(TM)',
                     'Characteristics': '64-bit capable',
                     'CurrentClockSpeed': '2.1 GHz',
                     'DeviceDescription': 'CPU 2',
                     'ExecuteDisabledCapable': 'Yes',
                     'ExecuteDisabledEnabled': 'Yes',
                     'FQDD': 'CPU.Socket.2',
                     'HyperThreadingCapable': 'Yes',
                     'HyperThreadingEnabled': 'Yes',
                     'Key': 'CPU.Socket.2',
                     'Manufacturer': 'Intel',
                     'MaxClockSpeed': '4.0 GHz',
                     'Model': 'Intel(R) Xeon(R) CPU E5-2620 v4 @ 2.10GHz',
                     'NumberOfEnabledCores': '8',
                     'NumberOfEnabledThreads': '16',
                     'NumberOfProcessorCores': '8',
                     'PrimaryStatus': 'Healthy',
                     'TurboModeCapable': 'Yes',
                     'TurboModeEnabled': 'Yes',
                     'VirtualizationTechnologyCapable': 'Yes',
                     'VirtualizationTechnologyEnabled': 'Yes',
                     'Voltage': '1.3',
                     'processorDeviceStateSettings': 'Not Available'}],
            'Controller': [{'Bus': '3',
                            'CacheSize': '1.0 GB',
                            'CachecadeCapability': 'Cachecade Virtual Disk not supported',
                            'ControllerFirmwareVersion': '25.5.3.0005',
                            'DeviceCardDataBusWidth': 'Unknown',
                            'DeviceCardManufacturer': 'DELL',
                            'DeviceCardSlotLength': '2',
                            'DeviceCardSlotType': 'Unknown',
                            'DeviceDescription': 'Integrated RAID Controller 1',
                            'DriverVersion': '6.605.08.00',
                            'EncryptionCapability': 'Local Key Management Capable',
                            'EncryptionMode': 'None',
                            'FQDD': 'RAID.Integrated.1-1',
                            'Key': 'RAID.Integrated.1-1',
                            'MaxAvailablePCILinkSpeed': 'Generation 3',
                            'MaxPossiblePCILinkSpeed': 'Generation 3',
                            'PCISlot': '0',
                            'PCIVendorID': '1000',
                            'PrimaryStatus': 'Healthy',
                            'ProductName': 'PERC H730 Mini',
                            'RollupStatus': 'Healthy',
                            'SASAddress': '5D09466049ABE100',
                            'SecurityStatus': 'Encryption Capable',
                            'SlicedVDCapability': 'Sliced Virtual Disk creation supported',
                            'SupportControllerBootMode': '1',
                            'SupportEnhancedAutoForeignImport': '1',
                            'SupportRAID10UnevenSpans': '1',
                            'T10PICapability': '0'},
                           {'Bus': '0',
                            'CacheSize': '0.0 GB',
                            'CachecadeCapability': 'Cachecade Virtual Disk not supported',
                            'ControllerFirmwareVersion': 'Not Available',
                            'DeviceCardDataBusWidth': 'Unknown',
                            'DeviceCardManufacturer': 'DELL',
                            'DeviceCardSlotLength': '2',
                            'DeviceCardSlotType': 'Unknown',
                            'DeviceDescription': 'Embedded AHCI 1',
                            'DriverVersion': 'Not Available',
                            'EncryptionCapability': 'None',
                            'EncryptionMode': 'None',
                            'FQDD': 'AHCI.Embedded.1-1',
                            'Key': 'AHCI.Embedded.1-1',
                            'MaxAvailablePCILinkSpeed': 'Not Available',
                            'MaxPossiblePCILinkSpeed': 'Not Available',
                            'PCISlot': '0',
                            'PCIVendorID': '8086',
                            'PrimaryStatus': 'Unknown',
                            'ProductName': 'C610/X99 series chipset sSATA Controller [AHCI mode]',
                            'RollupStatus': 'Unknown',
                            'SASAddress': '0',
                            'SecurityStatus': 'Encryption Not Capable',
                            'SlicedVDCapability': 'Sliced Virtual Disk creation not supported',
                            'SupportControllerBootMode': '0',
                            'SupportEnhancedAutoForeignImport': '0',
                            'SupportRAID10UnevenSpans': '0',
                            'T10PICapability': '0'},
                           {'Bus': '0',
                            'CacheSize': '0.0 GB',
                            'CachecadeCapability': 'Cachecade Virtual Disk not supported',
                            'ControllerFirmwareVersion': 'Not Available',
                            'DeviceCardDataBusWidth': 'Unknown',
                            'DeviceCardManufacturer': 'DELL',
                            'DeviceCardSlotLength': '2',
                            'DeviceCardSlotType': 'Unknown',
                            'DeviceDescription': 'Embedded AHCI 2',
                            'DriverVersion': 'Not Available',
                            'EncryptionCapability': 'None',
                            'EncryptionMode': 'None',
                            'FQDD': 'AHCI.Embedded.2-1',
                            'Key': 'AHCI.Embedded.2-1',
                            'MaxAvailablePCILinkSpeed': 'Not Available',
                            'MaxPossiblePCILinkSpeed': 'Not Available',
                            'PCISlot': '0',
                            'PCIVendorID': '8086',
                            'PrimaryStatus': 'Unknown',
                            'ProductName': 'C610/X99 series chipset 6-Port SATA Controller [AHCI mode]',
                            'RollupStatus': 'Unknown',
                            'SASAddress': '0',
                            'SecurityStatus': 'Encryption Not Capable',
                            'SlicedVDCapability': 'Sliced Virtual Disk creation not supported',
                            'SupportControllerBootMode': '0',
                            'SupportEnhancedAutoForeignImport': '0',
                            'SupportRAID10UnevenSpans': '0',
                            'T10PICapability': '0'}],
            'ControllerBattery': [{'DeviceDescription': 'Battery on Integrated RAID Controller 1',
                                   'FQDD': 'Battery.Integrated.1:RAID.Integrated.1-1',
                                   'InstanceID': 'Battery.Integrated.1:RAID.Integrated.1-1',
                                   'Key': 'Battery.Integrated.1:RAID.Integrated.1-1',
                                   'PrimaryStatus': 'Healthy',
                                   'RAIDState': 'Ready'}],
            'ControllerSensor': [{'FQDD': 'RAID.Integrated.1-1',
                                  'Key': 'RAID.Integrated.1-1'},
                                 {'FQDD': 'AHCI.Embedded.1-1', 'Key': 'AHCI.Embedded.1-1'},
                                 {'FQDD': 'AHCI.Embedded.2-1', 'Key': 'AHCI.Embedded.2-1'}],
            'Enclosure': [{'AssetTag': 'Not Available',
                           'Connector': '0',
                           'DeviceDescription': 'Backplane 1 on Connector 0 of Integrated RAID Controller 1',
                           'EMMCount': '1',
                           'FQDD': 'Enclosure.Internal.0-1:RAID.Integrated.1-1',
                           'FanCount': '0',
                           'Key': 'Enclosure.Internal.0-1:RAID.Integrated.1-1',
                           'PSUCount': '0',
                           'PrimaryStatus': 'Healthy',
                           'ProductName': 'BP13G+EXP 0:1',
                           'ServiceTag': 'Not Available',
                           'SlotCount': '16',
                           'State': '1',
                           'Version': '3.35',
                           'WiredOrder': '1'}],
            'EnclosureSensor': [{'FQDD': 'Enclosure.Internal.0-1:RAID.Integrated.1-1',
                                 'Key': 'Enclosure.Internal.0-1:RAID.Integrated.1-1'}],
            'Fan': [{'ActiveCooling': 'true',
                     'BaseUnits': '19',
                     'CurrentReading': '3600',
                     'DeviceDescription': 'Fan 1',
                     'FQDD': 'Fan.Embedded.1',
                     'Key': 'Fan.Embedded.1',
                     'Location': 'Not Available',
                     'PWM': '12',
                     'PrimaryStatus': 'Healthy',
                     'RateUnits': '0',
                     'RedundancyStatus': 'Fully Redundant',
                     'State': 'Not Available',
                     'VariableSpeed': 'true'},
                    {'ActiveCooling': 'true',
                     'BaseUnits': '19',
                     'CurrentReading': '3720',
                     'DeviceDescription': 'Fan 2',
                     'FQDD': 'Fan.Embedded.2',
                     'Key': 'Fan.Embedded.2',
                     'Location': 'Not Available',
                     'PWM': '12',
                     'PrimaryStatus': 'Healthy',
                     'RateUnits': '0',
                     'RedundancyStatus': 'Fully Redundant',
                     'State': 'Not Available',
                     'VariableSpeed': 'true'},
                    {'ActiveCooling': 'true',
                     'BaseUnits': '19',
                     'CurrentReading': '3600',
                     'DeviceDescription': 'Fan 3',
                     'FQDD': 'Fan.Embedded.3',
                     'Key': 'Fan.Embedded.3',
                     'Location': 'Not Available',
                     'PWM': '12',
                     'PrimaryStatus': 'Healthy',
                     'RateUnits': '0',
                     'RedundancyStatus': 'Fully Redundant',
                     'State': 'Not Available',
                     'VariableSpeed': 'true'},
                    {'ActiveCooling': 'true',
                     'BaseUnits': '19',
                     'CurrentReading': '3600',
                     'DeviceDescription': 'Fan 4',
                     'FQDD': 'Fan.Embedded.4',
                     'Key': 'Fan.Embedded.4',
                     'Location': 'Not Available',
                     'PWM': '12',
                     'PrimaryStatus': 'Healthy',
                     'RateUnits': '0',
                     'RedundancyStatus': 'Fully Redundant',
                     'State': 'Not Available',
                     'VariableSpeed': 'true'},
                    {'ActiveCooling': 'true',
                     'BaseUnits': '19',
                     'CurrentReading': '3600',
                     'DeviceDescription': 'Fan 5',
                     'FQDD': 'Fan.Embedded.5',
                     'Key': 'Fan.Embedded.5',
                     'Location': 'Not Available',
                     'PWM': '12',
                     'PrimaryStatus': 'Healthy',
                     'RateUnits': '0',
                     'RedundancyStatus': 'Fully Redundant',
                     'State': 'Not Available',
                     'VariableSpeed': 'true'},
                    {'ActiveCooling': 'true',
                     'BaseUnits': '19',
                     'CurrentReading': '3600',
                     'DeviceDescription': 'Fan 6',
                     'FQDD': 'Fan.Embedded.6',
                     'Key': 'Fan.Embedded.6',
                     'Location': 'Not Available',
                     'PWM': '12',
                     'PrimaryStatus': 'Healthy',
                     'RateUnits': '0',
                     'RedundancyStatus': 'Fully Redundant',
                     'State': 'Not Available',
                     'VariableSpeed': 'true'}],
            'License': [{'InstanceID': 'FD00000010874200',
                         'Key': 'FD00000010874200',
                         'LicenseDescription': 'iDRAC8 Enterprise License',
                         'LicenseInstallDate': '2018-04-09T17:43:32',
                         'LicenseSoldDate': '2018-03-21T09:33:56',
                         'LicenseType': 'Perpetual',
                         'PrimaryStatus': 'Healthy'}],
            'Memory': [{'BankLabel': 'A',
                        'CurrentOperatingSpeed': '2133.0 MHz',
                        'DeviceDescription': 'DIMM A1',
                        'FQDD': 'DIMM.Socket.A1',
                        'Key': 'DIMM.Socket.A1',
                        'ManufactureDate': 'Mon Mar 12 07:00:00 2018 UTC',
                        'Manufacturer': 'Micron Technology',
                        'MemoryType': 'DDR4',
                        'Model': 'DDR4 DIMM',
                        'PartNumber': '18ASF2G72PDZ-2G3D1',
                        'PrimaryStatus': 'Healthy',
                        'Rank': 'Double Rank',
                        'SerialNumber': '1B826DD3',
                        'Size': '16.0 GB',
                        'Speed': '2.4 GHz',
                        'memoryDeviceStateSettings': 'Not Available'},
                       {'BankLabel': 'A',
                        'CurrentOperatingSpeed': '2133.0 MHz',
                        'DeviceDescription': 'DIMM A2',
                        'FQDD': 'DIMM.Socket.A2',
                        'Key': 'DIMM.Socket.A2',
                        'ManufactureDate': 'Mon Mar 12 07:00:00 2018 UTC',
                        'Manufacturer': 'Micron Technology',
                        'MemoryType': 'DDR4',
                        'Model': 'DDR4 DIMM',
                        'PartNumber': '18ASF2G72PDZ-2G3D1',
                        'PrimaryStatus': 'Healthy',
                        'Rank': 'Double Rank',
                        'SerialNumber': '1B827736',
                        'Size': '16.0 GB',
                        'Speed': '2.4 GHz',
                        'memoryDeviceStateSettings': 'Not Available'},
                       {'BankLabel': 'A',
                        'CurrentOperatingSpeed': '2133.0 MHz',
                        'DeviceDescription': 'DIMM A3',
                        'FQDD': 'DIMM.Socket.A3',
                        'Key': 'DIMM.Socket.A3',
                        'ManufactureDate': 'Mon Mar 12 07:00:00 2018 UTC',
                        'Manufacturer': 'Micron Technology',
                        'MemoryType': 'DDR4',
                        'Model': 'DDR4 DIMM',
                        'PartNumber': '18ASF2G72PDZ-2G3D1',
                        'PrimaryStatus': 'Healthy',
                        'Rank': 'Double Rank',
                        'SerialNumber': '1B82731C',
                        'Size': '16.0 GB',
                        'Speed': '2.4 GHz',
                        'memoryDeviceStateSettings': 'Not Available'},
                       {'BankLabel': 'A',
                        'CurrentOperatingSpeed': '2133.0 MHz',
                        'DeviceDescription': 'DIMM A4',
                        'FQDD': 'DIMM.Socket.A4',
                        'Key': 'DIMM.Socket.A4',
                        'ManufactureDate': 'Mon Mar 12 07:00:00 2018 UTC',
                        'Manufacturer': 'Micron Technology',
                        'MemoryType': 'DDR4',
                        'Model': 'DDR4 DIMM',
                        'PartNumber': '18ASF2G72PDZ-2G3D1',
                        'PrimaryStatus': 'Healthy',
                        'Rank': 'Double Rank',
                        'SerialNumber': '1B826BC3',
                        'Size': '16.0 GB',
                        'Speed': '2.4 GHz',
                        'memoryDeviceStateSettings': 'Not Available'},
                       {'BankLabel': 'B',
                        'CurrentOperatingSpeed': '2133.0 MHz',
                        'DeviceDescription': 'DIMM B1',
                        'FQDD': 'DIMM.Socket.B1',
                        'Key': 'DIMM.Socket.B1',
                        'ManufactureDate': 'Mon Mar 12 07:00:00 2018 UTC',
                        'Manufacturer': 'Micron Technology',
                        'MemoryType': 'DDR4',
                        'Model': 'DDR4 DIMM',
                        'PartNumber': '18ASF2G72PDZ-2G3D1',
                        'PrimaryStatus': 'Healthy',
                        'Rank': 'Double Rank',
                        'SerialNumber': '1B82731F',
                        'Size': '16.0 GB',
                        'Speed': '2.4 GHz',
                        'memoryDeviceStateSettings': 'Not Available'},
                       {'BankLabel': 'B',
                        'CurrentOperatingSpeed': '2133.0 MHz',
                        'DeviceDescription': 'DIMM B2',
                        'FQDD': 'DIMM.Socket.B2',
                        'Key': 'DIMM.Socket.B2',
                        'ManufactureDate': 'Mon Mar 12 07:00:00 2018 UTC',
                        'Manufacturer': 'Micron Technology',
                        'MemoryType': 'DDR4',
                        'Model': 'DDR4 DIMM',
                        'PartNumber': '18ASF2G72PDZ-2G3D1',
                        'PrimaryStatus': 'Healthy',
                        'Rank': 'Double Rank',
                        'SerialNumber': '1B827331',
                        'Size': '16.0 GB',
                        'Speed': '2.4 GHz',
                        'memoryDeviceStateSettings': 'Not Available'},
                       {'BankLabel': 'B',
                        'CurrentOperatingSpeed': '2133.0 MHz',
                        'DeviceDescription': 'DIMM B3',
                        'FQDD': 'DIMM.Socket.B3',
                        'Key': 'DIMM.Socket.B3',
                        'ManufactureDate': 'Mon Mar 12 07:00:00 2018 UTC',
                        'Manufacturer': 'Micron Technology',
                        'MemoryType': 'DDR4',
                        'Model': 'DDR4 DIMM',
                        'PartNumber': '18ASF2G72PDZ-2G3D1',
                        'PrimaryStatus': 'Healthy',
                        'Rank': 'Double Rank',
                        'SerialNumber': '1B82774E',
                        'Size': '16.0 GB',
                        'Speed': '2.4 GHz',
                        'memoryDeviceStateSettings': 'Not Available'},
                       {'BankLabel': 'B',
                        'CurrentOperatingSpeed': '2133.0 MHz',
                        'DeviceDescription': 'DIMM B4',
                        'FQDD': 'DIMM.Socket.B4',
                        'Key': 'DIMM.Socket.B4',
                        'ManufactureDate': 'Mon Mar 12 07:00:00 2018 UTC',
                        'Manufacturer': 'Micron Technology',
                        'MemoryType': 'DDR4',
                        'Model': 'DDR4 DIMM',
                        'PartNumber': '18ASF2G72PDZ-2G3D1',
                        'PrimaryStatus': 'Healthy',
                        'Rank': 'Double Rank',
                        'SerialNumber': '1B826BF7',
                        'Size': '16.0 GB',
                        'Speed': '2.4 GHz',
                        'memoryDeviceStateSettings': 'Not Available'}],
            'NIC': [{'AutoNegotiation': 'Disabled',
                     'ControllerBIOSVersion': '1.39',
                     'CurrentMACAddress': '20:04:0F:E5:92:A6',
                     'DCBExchangeProtocol': 'Not Supported',
                     'DataBusWidth': '0002',
                     'DeviceDescription': 'Integrated NIC 1 Port 3 Partition 1',
                     'EFIVersion': '20.6.56',
                     'FCoEBootSupport': 'Not Supported',
                     'FCoEOffloadMode': 'Disabled',
                     'FCoEOffloadSupport': 'Not Supported',
                     'FCoEWWNN': 'Not Available',
                     'FQDD': 'NIC.Integrated.1-3-1',
                     'FamilyVersion': '20.6.52',
                     'FlexAddressingSupport': 'Supported',
                     'IPv4Address': 'Not Available',
                     'IPv6Address': 'Not Available',
                     'Key': 'NIC.Integrated.1-3-1',
                     'LinkDuplex': 'Unknown',
                     'LinkSpeed': 'Unknown',
                     'LinkStatus': 'Down',
                     'MaxBandwidth': '0',
                     'MediaType': 'Base T',
                     'NICCapabilities': 'Not Available',
                     'NicMode': 'Disabled',
                     'NicPartitioningSupport': 'Not Supported',
                     'PXEBootSupport': 'Supported',
                     'PermanentFCOEMACAddress': 'Not Available',
                     'PermanentMACAddress': '20:04:0F:E5:92:A6',
                     'PermanentiSCSIMACAddress': 'Not Available',
                     'PrimaryStatus': 'Critical',
                     'ProductName': 'Broadcom Gigabit Ethernet BCM5720 - 20:04:0F:E5:92:A6',
                     'Protocol': 'NIC',
                     'RxBytes': '3870467959',
                     'RxMutlicast': '282',
                     'RxUnicast': '16789857',
                     'SupportedBootProtocol': 'Not Available',
                     'SwitchConnectionID': 'Not Available',
                     'SwitchPortConnectionID': 'Not Available',
                     'TCPChimneySupport': 'Not Supported',
                     'TxBytes': '2897130278',
                     'TxMutlicast': '1039',
                     'TxUnicast': '33415216',
                     'VFSRIOVSupport': 'Not Supported',
                     'VendorName': 'Broadcom Corp',
                     'VirtMacAddr': 'Not Available',
                     'VirtWWN': 'Not Available',
                     'VirtWWPN': 'Not Available',
                     'WOLSupport': 'Supported',
                     'WWN': 'Not Available',
                     'WWPN': 'Not Available',
                     'iSCSIBootSupport': 'Supported',
                     'iSCSIOffloadSupport': 'Not Supported',
                     'iScsiOffloadMode': 'Disabled'},
                    {'AutoNegotiation': 'Disabled',
                     'ControllerBIOSVersion': '1.39',
                     'CurrentMACAddress': '20:04:0F:E5:92:A7',
                     'DCBExchangeProtocol': 'Not Supported',
                     'DataBusWidth': '0002',
                     'DeviceDescription': 'Integrated NIC 1 Port 4 Partition 1',
                     'EFIVersion': '20.6.56',
                     'FCoEBootSupport': 'Not Supported',
                     'FCoEOffloadMode': 'Disabled',
                     'FCoEOffloadSupport': 'Not Supported',
                     'FCoEWWNN': 'Not Available',
                     'FQDD': 'NIC.Integrated.1-4-1',
                     'FamilyVersion': '20.6.52',
                     'FlexAddressingSupport': 'Supported',
                     'IPv4Address': 'Not Available',
                     'IPv6Address': 'Not Available',
                     'Key': 'NIC.Integrated.1-4-1',
                     'LinkDuplex': 'Unknown',
                     'LinkSpeed': 'Unknown',
                     'LinkStatus': 'Down',
                     'MaxBandwidth': '0',
                     'MediaType': 'Base T',
                     'NICCapabilities': 'Not Available',
                     'NicMode': 'Disabled',
                     'NicPartitioningSupport': 'Not Supported',
                     'PXEBootSupport': 'Supported',
                     'PermanentFCOEMACAddress': 'Not Available',
                     'PermanentMACAddress': '20:04:0F:E5:92:A7',
                     'PermanentiSCSIMACAddress': 'Not Available',
                     'PrimaryStatus': 'Critical',
                     'ProductName': 'Broadcom Gigabit Ethernet BCM5720 - 20:04:0F:E5:92:A7',
                     'Protocol': 'NIC',
                     'RxBytes': '5773479387',
                     'RxMutlicast': '20943829',
                     'RxUnicast': '30149134',
                     'SupportedBootProtocol': 'Not Available',
                     'SwitchConnectionID': 'Not Available',
                     'SwitchPortConnectionID': 'Not Available',
                     'TCPChimneySupport': 'Not Supported',
                     'TxBytes': '3852863434',
                     'TxMutlicast': '433',
                     'TxUnicast': '27258181',
                     'VFSRIOVSupport': 'Not Supported',
                     'VendorName': 'Broadcom Corp',
                     'VirtMacAddr': 'Not Available',
                     'VirtWWN': 'Not Available',
                     'VirtWWPN': 'Not Available',
                     'WOLSupport': 'Supported',
                     'WWN': 'Not Available',
                     'WWPN': 'Not Available',
                     'iSCSIBootSupport': 'Supported',
                     'iSCSIOffloadSupport': 'Not Supported',
                     'iScsiOffloadMode': 'Disabled'},
                    {'AutoNegotiation': 'Enabled',
                     'ControllerBIOSVersion': '1.39',
                     'CurrentMACAddress': '20:04:0F:E5:92:A4',
                     'DCBExchangeProtocol': 'Not Supported',
                     'DataBusWidth': '0002',
                     'DeviceDescription': 'Integrated NIC 1 Port 1 Partition 1',
                     'EFIVersion': '20.6.56',
                     'FCoEBootSupport': 'Not Supported',
                     'FCoEOffloadMode': 'Disabled',
                     'FCoEOffloadSupport': 'Not Supported',
                     'FCoEWWNN': 'Not Available',
                     'FQDD': 'NIC.Integrated.1-1-1',
                     'FamilyVersion': '20.6.52',
                     'FlexAddressingSupport': 'Supported',
                     'IPv4Address': 'Not Available',
                     'IPv6Address': 'Not Available',
                     'Key': 'NIC.Integrated.1-1-1',
                     'LinkDuplex': 'Full Duplex',
                     'LinkSpeed': '1000 Mbps',
                     'LinkStatus': 'Up',
                     'MaxBandwidth': '0',
                     'MediaType': 'Base T',
                     'NICCapabilities': 'Not Available',
                     'NicMode': 'Disabled',
                     'NicPartitioningSupport': 'Not Supported',
                     'PXEBootSupport': 'Supported',
                     'PermanentFCOEMACAddress': 'Not Available',
                     'PermanentMACAddress': '20:04:0F:E5:92:A4',
                     'PermanentiSCSIMACAddress': 'Not Available',
                     'PrimaryStatus': 'Healthy',
                     'ProductName': 'Broadcom Gigabit Ethernet BCM5720 - 20:04:0F:E5:92:A4',
                     'Protocol': 'NIC',
                     'RxBytes': '12729248079184',
                     'RxMutlicast': '63821468',
                     'RxUnicast': '14410658276',
                     'SupportedBootProtocol': 'Not Available',
                     'SwitchConnectionID': 'Not Available',
                     'SwitchPortConnectionID': 'Not Available',
                     'TCPChimneySupport': 'Not Supported',
                     'TxBytes': '17294372649029',
                     'TxMutlicast': '14776063',
                     'TxUnicast': '16754731738',
                     'VFSRIOVSupport': 'Not Supported',
                     'VendorName': 'Broadcom Corp',
                     'VirtMacAddr': 'Not Available',
                     'VirtWWN': 'Not Available',
                     'VirtWWPN': 'Not Available',
                     'WOLSupport': 'Supported',
                     'WWN': 'Not Available',
                     'WWPN': 'Not Available',
                     'iSCSIBootSupport': 'Supported',
                     'iSCSIOffloadSupport': 'Not Supported',
                     'iScsiOffloadMode': 'Disabled'},
                    {'AutoNegotiation': 'Disabled',
                     'ControllerBIOSVersion': '1.39',
                     'CurrentMACAddress': '20:04:0F:E5:92:A5',
                     'DCBExchangeProtocol': 'Not Supported',
                     'DataBusWidth': '0002',
                     'DeviceDescription': 'Integrated NIC 1 Port 2 Partition 1',
                     'EFIVersion': '20.6.56',
                     'FCoEBootSupport': 'Not Supported',
                     'FCoEOffloadMode': 'Disabled',
                     'FCoEOffloadSupport': 'Not Supported',
                     'FCoEWWNN': 'Not Available',
                     'FQDD': 'NIC.Integrated.1-2-1',
                     'FamilyVersion': '20.6.52',
                     'FlexAddressingSupport': 'Supported',
                     'IPv4Address': 'Not Available',
                     'IPv6Address': 'Not Available',
                     'Key': 'NIC.Integrated.1-2-1',
                     'LinkDuplex': 'Unknown',
                     'LinkSpeed': 'Unknown',
                     'LinkStatus': 'Down',
                     'MaxBandwidth': '0',
                     'MediaType': 'Base T',
                     'NICCapabilities': 'Not Available',
                     'NicMode': 'Disabled',
                     'NicPartitioningSupport': 'Not Supported',
                     'PXEBootSupport': 'Supported',
                     'PermanentFCOEMACAddress': 'Not Available',
                     'PermanentMACAddress': '20:04:0F:E5:92:A5',
                     'PermanentiSCSIMACAddress': 'Not Available',
                     'PrimaryStatus': 'Critical',
                     'ProductName': 'Broadcom Gigabit Ethernet BCM5720 - 20:04:0F:E5:92:A5',
                     'Protocol': 'NIC',
                     'RxBytes': '155392380',
                     'RxMutlicast': '476',
                     'RxUnicast': '147',
                     'SupportedBootProtocol': 'Not Available',
                     'SwitchConnectionID': 'Not Available',
                     'SwitchPortConnectionID': 'Not Available',
                     'TCPChimneySupport': 'Not Supported',
                     'TxBytes': '141113444',
                     'TxMutlicast': '280761',
                     'TxUnicast': '22',
                     'VFSRIOVSupport': 'Not Supported',
                     'VendorName': 'Broadcom Corp',
                     'VirtMacAddr': 'Not Available',
                     'VirtWWN': 'Not Available',
                     'VirtWWPN': 'Not Available',
                     'WOLSupport': 'Supported',
                     'WWN': 'Not Available',
                     'WWPN': 'Not Available',
                     'iSCSIBootSupport': 'Supported',
                     'iSCSIOffloadSupport': 'Not Supported',
                     'iScsiOffloadMode': 'Disabled'}],
            'PCIDevice': [{'DataBusWidth': '0002',
                           'Description': 'PERC H730 Mini',
                           'DeviceDescription': 'Integrated RAID Controller 1',
                           'FQDD': 'RAID.Integrated.1-1',
                           'Key': 'RAID.Integrated.1-1',
                           'Manufacturer': 'LSI Logic / Symbios Logic',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'NetXtreme BCM5720 Gigabit Ethernet PCIe',
                           'DeviceDescription': 'Integrated NIC 1 Port 3 Partition 1',
                           'FQDD': 'NIC.Integrated.1-3-1',
                           'Key': 'NIC.Integrated.1-3-1',
                           'Manufacturer': 'Broadcom Limited',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'NetXtreme BCM5720 Gigabit Ethernet PCIe',
                           'DeviceDescription': 'Integrated NIC 1 Port 4 Partition 1',
                           'FQDD': 'NIC.Integrated.1-4-1',
                           'Key': 'NIC.Integrated.1-4-1',
                           'Manufacturer': 'Broadcom Limited',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'NetXtreme BCM5720 Gigabit Ethernet PCIe',
                           'DeviceDescription': 'Integrated NIC 1 Port 1 Partition 1',
                           'FQDD': 'NIC.Integrated.1-1-1',
                           'Key': 'NIC.Integrated.1-1-1',
                           'Manufacturer': 'Broadcom Limited',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'NetXtreme BCM5720 Gigabit Ethernet PCIe',
                           'DeviceDescription': 'Integrated NIC 1 Port 2 Partition 1',
                           'FQDD': 'NIC.Integrated.1-2-1',
                           'Key': 'NIC.Integrated.1-2-1',
                           'Manufacturer': 'Broadcom Limited',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'G200eR2',
                           'DeviceDescription': 'Embedded Video Controller 1',
                           'FQDD': 'Video.Embedded.1-1',
                           'Key': 'Video.Embedded.1-1',
                           'Manufacturer': 'Matrox Electronics Systems Ltd.',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'C610/X99 series chipset sSATA Controller [AHCI mode]',
                           'DeviceDescription': 'Embedded AHCI 1',
                           'FQDD': 'AHCI.Embedded.1-1',
                           'Key': 'AHCI.Embedded.1-1',
                           'Manufacturer': 'Intel Corporation',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'Xeon E7 v4/Xeon E5 v4/Xeon E3 v4/Xeon D DMI2',
                           'DeviceDescription': 'Embedded Host Bridge 1',
                           'FQDD': 'HostBridge.Embedded.1-1',
                           'Key': 'HostBridge.Embedded.1-1',
                           'Manufacturer': 'Intel Corporation',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'SH7758 PCIe Switch [PS]',
                           'DeviceDescription': 'Embedded P2P Bridge 1-1',
                           'FQDD': 'P2PBridge.Embedded.1-1',
                           'Key': 'P2PBridge.Embedded.1-1',
                           'Manufacturer': 'Renesas Technology Corp.',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'C610/X99 series chipset USB Enhanced Host Controller #1',
                           'DeviceDescription': 'Embedded USB EHCI 1',
                           'FQDD': 'USBEHCI.Embedded.1-1',
                           'Key': 'USBEHCI.Embedded.1-1',
                           'Manufacturer': 'Intel Corporation',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'C610/X99 series chipset LPC Controller',
                           'DeviceDescription': 'Embedded ISA Bridge 1',
                           'FQDD': 'ISABridge.Embedded.1-1',
                           'Key': 'ISABridge.Embedded.1-1',
                           'Manufacturer': 'Intel Corporation',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'C610/X99 series chipset 6-Port SATA Controller [AHCI mode]',
                           'DeviceDescription': 'Embedded AHCI 2',
                           'FQDD': 'AHCI.Embedded.2-1',
                           'Key': 'AHCI.Embedded.2-1',
                           'Manufacturer': 'Intel Corporation',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'Xeon E7 v4/Xeon E5 v4/Xeon E3 v4/Xeon D PCI Express Root Port 1',
                           'DeviceDescription': 'Embedded P2P Bridge 2-1',
                           'FQDD': 'P2PBridge.Embedded.2-1',
                           'Key': 'P2PBridge.Embedded.2-1',
                           'Manufacturer': 'Intel Corporation',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'C610/X99 series chipset USB Enhanced Host Controller #2',
                           'DeviceDescription': 'Embedded USB EHCI 2',
                           'FQDD': 'USBEHCI.Embedded.2-1',
                           'Key': 'USBEHCI.Embedded.2-1',
                           'Manufacturer': 'Intel Corporation',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'SH7758 PCIe Switch [PS]',
                           'DeviceDescription': 'Embedded P2P Bridge 2-2',
                           'FQDD': 'P2PBridge.Embedded.2-2',
                           'Key': 'P2PBridge.Embedded.2-2',
                           'Manufacturer': 'Renesas Technology Corp.',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'Xeon E7 v4/Xeon E5 v4/Xeon E3 v4/Xeon D PCI Express Root Port 2',
                           'DeviceDescription': 'Embedded P2P Bridge 4-1',
                           'FQDD': 'P2PBridge.Embedded.4-1',
                           'Key': 'P2PBridge.Embedded.4-1',
                           'Manufacturer': 'Intel Corporation',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'SH7758 PCIe-PCI Bridge [PPB]',
                           'DeviceDescription': 'Embedded P2P Bridge 4-2',
                           'FQDD': 'P2PBridge.Embedded.4-2',
                           'Key': 'P2PBridge.Embedded.4-2',
                           'Manufacturer': 'Renesas Technology Corp.',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'Xeon E7 v4/Xeon E5 v4/Xeon E3 v4/Xeon D PCI Express Root Port 3',
                           'DeviceDescription': 'Embedded P2P Bridge 8-1',
                           'FQDD': 'P2PBridge.Embedded.8-1',
                           'Key': 'P2PBridge.Embedded.8-1',
                           'Manufacturer': 'Intel Corporation',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'Xeon E7 v4/Xeon E5 v4/Xeon E3 v4/Xeon D PCI Express Root Port 3',
                           'DeviceDescription': 'Embedded P2P Bridge 42-1',
                           'FQDD': 'P2PBridge.Embedded.42-1',
                           'Key': 'P2PBridge.Embedded.42-1',
                           'Manufacturer': 'Intel Corporation',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'C610/X99 series chipset PCI Express Root Port #1',
                           'DeviceDescription': 'Embedded P2P Bridge 5-1',
                           'FQDD': 'P2PBridge.Embedded.5-1',
                           'Key': 'P2PBridge.Embedded.5-1',
                           'Manufacturer': 'Intel Corporation',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'C610/X99 series chipset PCI Express Root Port #8',
                           'DeviceDescription': 'Embedded P2P Bridge 12-1',
                           'FQDD': 'P2PBridge.Embedded.12-1',
                           'Key': 'P2PBridge.Embedded.12-1',
                           'Manufacturer': 'Intel Corporation',
                           'SlotLength': '0002',
                           'SlotType': '0002'},
                          {'DataBusWidth': '0002',
                           'Description': 'SH7758 PCIe Switch [PS]',
                           'DeviceDescription': 'Embedded P2P Bridge 3-1',
                           'FQDD': 'P2PBridge.Embedded.3-1',
                           'Key': 'P2PBridge.Embedded.3-1',
                           'Manufacturer': 'Renesas Technology Corp.',
                           'SlotLength': '0002',
                           'SlotType': '0002'}],
            'PhysicalDisk': [{'BlockSize': '512.0',
                              'BusProtocol': 'SAS',
                              'DeviceDescription': 'Disk 0 in Backplane 1 of Integrated RAID Controller 1',
                              'DriveFormFactor': '2.5 inch',
                              'FQDD': 'Disk.Bay.0:Enclosure.Internal.0-1:RAID.Integrated.1-1',
                              'FreeSize': '0.0',
                              'HotSpareStatus': 'No',
                              'Key': 'Disk.Bay.0:Enclosure.Internal.0-1:RAID.Integrated.1-1',
                              'Manufacturer': 'TOSHIBA',
                              'ManufacturingDay': '2',
                              'ManufacturingWeek': '5',
                              'ManufacturingYear': '2018',
                              'MaxCapableSpeed': '12 Gbps',
                              'MediaType': 'HDD',
                              'Model': 'AL14SEB060NY',
                              'PPID': 'PH0G3MWJTB20081T209LA00',
                              'PredictiveFailureState': 'Healthy',
                              'PrimaryStatus': 'Healthy',
                              'RAIDNegotiatedSpeed': '12 Gbps',
                              'RaidStatus': 'Online',
                              'Revision': 'EA02',
                              'SASAddress': '5000039868521676',
                              'SecurityState': 'Not Capable',
                              'SerialNumber': '18T0A021FL3E',
                              'Size': '558.38',
                              'Slot': '0',
                              'SupportedEncryptionTypes': 'None',
                              'T10PICapability': 'T10 PI not supported',
                              'UsedSize': '558.38'},
                             {'BlockSize': '512.0',
                              'BusProtocol': 'SAS',
                              'DeviceDescription': 'Disk 1 in Backplane 1 of Integrated RAID Controller 1',
                              'DriveFormFactor': '2.5 inch',
                              'FQDD': 'Disk.Bay.1:Enclosure.Internal.0-1:RAID.Integrated.1-1',
                              'FreeSize': '0.0',
                              'HotSpareStatus': 'No',
                              'Key': 'Disk.Bay.1:Enclosure.Internal.0-1:RAID.Integrated.1-1',
                              'Manufacturer': 'TOSHIBA',
                              'ManufacturingDay': '2',
                              'ManufacturingWeek': '5',
                              'ManufacturingYear': '2018',
                              'MaxCapableSpeed': '12 Gbps',
                              'MediaType': 'HDD',
                              'Model': 'AL14SEB060NY',
                              'PPID': 'PH0G3MWJTB20081T20PYA00',
                              'PredictiveFailureState': 'Healthy',
                              'PrimaryStatus': 'Healthy',
                              'RAIDNegotiatedSpeed': '12 Gbps',
                              'RaidStatus': 'Online',
                              'Revision': 'EA02',
                              'SASAddress': '500003986852952A',
                              'SecurityState': 'Not Capable',
                              'SerialNumber': '18T0A0QLFL3E',
                              'Size': '558.38',
                              'Slot': '1',
                              'SupportedEncryptionTypes': 'None',
                              'T10PICapability': 'T10 PI not supported',
                              'UsedSize': '558.38'},
                             {'BlockSize': '512.0',
                              'BusProtocol': 'SAS',
                              'DeviceDescription': 'Disk 2 in Backplane 1 of Integrated RAID Controller 1',
                              'DriveFormFactor': '2.5 inch',
                              'FQDD': 'Disk.Bay.2:Enclosure.Internal.0-1:RAID.Integrated.1-1',
                              'FreeSize': '0.0',
                              'HotSpareStatus': 'No',
                              'Key': 'Disk.Bay.2:Enclosure.Internal.0-1:RAID.Integrated.1-1',
                              'Manufacturer': 'TOSHIBA',
                              'ManufacturingDay': '2',
                              'ManufacturingWeek': '5',
                              'ManufacturingYear': '2018',
                              'MaxCapableSpeed': '12 Gbps',
                              'MediaType': 'HDD',
                              'Model': 'AL14SEB060NY',
                              'PPID': 'PH0G3MWJTB20081T20Q3A00',
                              'PredictiveFailureState': 'Healthy',
                              'PrimaryStatus': 'Healthy',
                              'RAIDNegotiatedSpeed': '12 Gbps',
                              'RaidStatus': 'Online',
                              'Revision': 'EA02',
                              'SASAddress': '5000039868528502',
                              'SecurityState': 'Not Capable',
                              'SerialNumber': '18T0A0KAFL3E',
                              'Size': '558.38',
                              'Slot': '2',
                              'SupportedEncryptionTypes': 'None',
                              'T10PICapability': 'T10 PI not supported',
                              'UsedSize': '558.38'},
                             {'BlockSize': '512.0',
                              'BusProtocol': 'SAS',
                              'DeviceDescription': 'Disk 3 in Backplane 1 of Integrated RAID Controller 1',
                              'DriveFormFactor': '2.5 inch',
                              'FQDD': 'Disk.Bay.3:Enclosure.Internal.0-1:RAID.Integrated.1-1',
                              'FreeSize': '0.0',
                              'HotSpareStatus': 'No',
                              'Key': 'Disk.Bay.3:Enclosure.Internal.0-1:RAID.Integrated.1-1',
                              'Manufacturer': 'TOSHIBA',
                              'ManufacturingDay': '2',
                              'ManufacturingWeek': '5',
                              'ManufacturingYear': '2018',
                              'MaxCapableSpeed': '12 Gbps',
                              'MediaType': 'HDD',
                              'Model': 'AL14SEB060NY',
                              'PPID': 'PH0G3MWJTB20081T20QCA00',
                              'PredictiveFailureState': 'Healthy',
                              'PrimaryStatus': 'Healthy',
                              'RAIDNegotiatedSpeed': '12 Gbps',
                              'RaidStatus': 'Online',
                              'Revision': 'EA02',
                              'SASAddress': '50000398685285AA',
                              'SecurityState': 'Not Capable',
                              'SerialNumber': '18T0A0KDFL3E',
                              'Size': '558.38',
                              'Slot': '3',
                              'SupportedEncryptionTypes': 'None',
                              'T10PICapability': 'T10 PI not supported',
                              'UsedSize': '558.38'}],
            'PowerSupply': [{'DetailedState': 'Presence Detected',
                             'DeviceDescription': 'Power Supply 1',
                             'FQDD': 'PSU.Slot.1',
                             'FirmwareVersion': '00.23.32',
                             'InputVoltage': '110',
                             'Key': 'PSU.Slot.1',
                             'Manufacturer': 'Dell',
                             'Model': 'PWR SPLY,750W,RDNT,LTON',
                             'Name': 'Not Available',
                             'PartNumber': '0W8R3CA00',
                             'PowerSupplySensorState': 'Not Available',
                             'PrimaryStatus': 'Healthy',
                             'RAIDState': 'Not Available',
                             'Range1MaxInputPower': '900 W',
                             'RedMinNumberNeeded': '1',
                             'RedTypeOfSet': '2,32768,4',
                             'Redundancy': 'Fully Redundant',
                             'SerialNumber': 'CNLOD0078P69F7',
                             'TotalOutputPower': '750 W',
                             'Type': 'AC',
                             'powerSupplyStateCapabilitiesUnique': 'Not Available'},
                            {'DetailedState': 'Presence Detected',
                             'DeviceDescription': 'Power Supply 2',
                             'FQDD': 'PSU.Slot.2',
                             'FirmwareVersion': '00.23.32',
                             'InputVoltage': '110',
                             'Key': 'PSU.Slot.2',
                             'Manufacturer': 'Dell',
                             'Model': 'PWR SPLY,750W,RDNT,LTON',
                             'Name': 'Not Available',
                             'PartNumber': '0W8R3CA00',
                             'PowerSupplySensorState': 'Not Available',
                             'PrimaryStatus': 'Healthy',
                             'RAIDState': 'Not Available',
                             'Range1MaxInputPower': '900 W',
                             'RedMinNumberNeeded': '1',
                             'RedTypeOfSet': '2,32768,4',
                             'Redundancy': 'Fully Redundant',
                             'SerialNumber': 'CNLOD0078P5F63',
                             'TotalOutputPower': '750 W',
                             'Type': 'AC',
                             'powerSupplyStateCapabilitiesUnique': 'Not Available'}],
            'Sensors_Amperage': [{'CurrentReading': '0',
                                  'CurrentState': 'Normal',
                                  'DeviceID': 'iDRAC.Embedded.1#PS2Current2',
                                  'HealthState': 'Normal',
                                  'Key': 'PS2 Current 2',
                                  'Location': 'PS2 Current 2',
                                  'OtherSensorTypeDescription': 'Not Available',
                                  'PrimaryStatus': 'Healthy',
                                  'ProbeType': 'Not Available',
                                  'SensorType': 'Amperage',
                                  'State': 'Enabled'},
                                 {'CurrentReading': '140',
                                  'CurrentState': 'Normal',
                                  'DeviceID': 'iDRAC.Embedded.1#SystemBoardPwrConsumption',
                                  'HealthState': 'Normal',
                                  'Key': 'System Board Pwr Consumption',
                                  'Location': 'System Board Pwr Consumption',
                                  'OtherSensorTypeDescription': 'Not Available',
                                  'PrimaryStatus': 'Healthy',
                                  'ProbeType': 'Not Available',
                                  'SensorType': 'Amperage',
                                  'State': 'Enabled'},
                                 {'CurrentReading': '1.2000000000000002',
                                  'CurrentState': 'Normal',
                                  'DeviceID': 'iDRAC.Embedded.1#PS1Current1',
                                  'HealthState': 'Normal',
                                  'Key': 'PS1 Current 1',
                                  'Location': 'PS1 Current 1',
                                  'OtherSensorTypeDescription': 'Not Available',
                                  'PrimaryStatus': 'Healthy',
                                  'ProbeType': 'Not Available',
                                  'SensorType': 'Amperage',
                                  'State': 'Enabled'}],
            'Sensors_Battery': [{'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#SystemBoardCMOSBattery',
                                 'HealthState': 'Normal',
                                 'Key': 'System Board CMOS Battery',
                                 'Location': 'System Board CMOS Battery',
                                 'OtherSensorTypeDescription': 'Battery',
                                 'PrimaryStatus': 'Healthy',
                                 'SensorType': 'Battery',
                                 'State': 'Enabled'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#PERC1ROMBBattery',
                                 'HealthState': 'Normal',
                                 'Key': 'PERC1 ROMB Battery',
                                 'Location': 'PERC1 ROMB Battery',
                                 'OtherSensorTypeDescription': 'Battery',
                                 'PrimaryStatus': 'Healthy',
                                 'SensorType': 'Battery',
                                 'State': 'Enabled'}],
            'Sensors_Fan': [{'CurrentReading': '3600',
                             'CurrentState': 'Normal',
                             'DeviceID': '0x17__Fan.Embedded.1',
                             'FQDD': 'Not Available',
                             'HealthState': 'Normal',
                             'Key': 'System Board Fan1',
                             'Location': 'System Board Fan1',
                             'Name': 'Not Available',
                             'OtherSensorTypeDescription': 'Not Available',
                             'PrimaryStatus': 'Healthy',
                             'SensorType': 'Fan',
                             'State': 'Enabled',
                             'SubType': 'Not Available',
                             'Type': 'Not Available',
                             'coolingUnitIndexReference': 'Not Available'},
                            {'CurrentReading': '3600',
                             'CurrentState': 'Normal',
                             'DeviceID': '0x17__Fan.Embedded.2',
                             'FQDD': 'Not Available',
                             'HealthState': 'Normal',
                             'Key': 'System Board Fan2',
                             'Location': 'System Board Fan2',
                             'Name': 'Not Available',
                             'OtherSensorTypeDescription': 'Not Available',
                             'PrimaryStatus': 'Healthy',
                             'SensorType': 'Fan',
                             'State': 'Enabled',
                             'SubType': 'Not Available',
                             'Type': 'Not Available',
                             'coolingUnitIndexReference': 'Not Available'},
                            {'CurrentReading': '3600',
                             'CurrentState': 'Normal',
                             'DeviceID': '0x17__Fan.Embedded.3',
                             'FQDD': 'Not Available',
                             'HealthState': 'Normal',
                             'Key': 'System Board Fan3',
                             'Location': 'System Board Fan3',
                             'Name': 'Not Available',
                             'OtherSensorTypeDescription': 'Not Available',
                             'PrimaryStatus': 'Healthy',
                             'SensorType': 'Fan',
                             'State': 'Enabled',
                             'SubType': 'Not Available',
                             'Type': 'Not Available',
                             'coolingUnitIndexReference': 'Not Available'},
                            {'CurrentReading': '3600',
                             'CurrentState': 'Normal',
                             'DeviceID': '0x17__Fan.Embedded.4',
                             'FQDD': 'Not Available',
                             'HealthState': 'Normal',
                             'Key': 'System Board Fan4',
                             'Location': 'System Board Fan4',
                             'Name': 'Not Available',
                             'OtherSensorTypeDescription': 'Not Available',
                             'PrimaryStatus': 'Healthy',
                             'SensorType': 'Fan',
                             'State': 'Enabled',
                             'SubType': 'Not Available',
                             'Type': 'Not Available',
                             'coolingUnitIndexReference': 'Not Available'},
                            {'CurrentReading': '3600',
                             'CurrentState': 'Normal',
                             'DeviceID': '0x17__Fan.Embedded.5',
                             'FQDD': 'Not Available',
                             'HealthState': 'Normal',
                             'Key': 'System Board Fan5',
                             'Location': 'System Board Fan5',
                             'Name': 'Not Available',
                             'OtherSensorTypeDescription': 'Not Available',
                             'PrimaryStatus': 'Healthy',
                             'SensorType': 'Fan',
                             'State': 'Enabled',
                             'SubType': 'Not Available',
                             'Type': 'Not Available',
                             'coolingUnitIndexReference': 'Not Available'},
                            {'CurrentReading': '3600',
                             'CurrentState': 'Normal',
                             'DeviceID': '0x17__Fan.Embedded.6',
                             'FQDD': 'Not Available',
                             'HealthState': 'Normal',
                             'Key': 'System Board Fan6',
                             'Location': 'System Board Fan6',
                             'Name': 'Not Available',
                             'OtherSensorTypeDescription': 'Not Available',
                             'PrimaryStatus': 'Healthy',
                             'SensorType': 'Fan',
                             'State': 'Enabled',
                             'SubType': 'Not Available',
                             'Type': 'Not Available',
                             'coolingUnitIndexReference': 'Not Available'}],
            'Sensors_Intrusion': [{'CurrentReading': 'Not Available',
                                   'CurrentState': 'No Breach',
                                   'DeviceID': 'iDRAC.Embedded.1#SystemBoardIntrusion',
                                   'HealthState': 'Normal',
                                   'Key': 'System Board Intrusion',
                                   'Location': 'System Board Intrusion',
                                   'OtherSensorTypeDescription': 'Not Available',
                                   'PrimaryStatus': 'Healthy',
                                   'SensorType': 'Intrusion',
                                   'State': 'Enabled',
                                   'Type': 'Not Available'}],
            'Sensors_Temperature': [{'CurrentReading': '21',
                                     'CurrentState': 'Normal',
                                     'DeviceID': 'iDRAC.Embedded.1#SystemBoardInletTemp',
                                     'HealthState': 'Normal',
                                     'Key': 'System Board Inlet Temp',
                                     'Location': 'System Board Inlet Temp',
                                     'OtherSensorTypeDescription': 'Not Available',
                                     'PrimaryStatus': 'Healthy',
                                     'SensorType': 'Temperature',
                                     'State': 'Enabled',
                                     'Type': 'Not Available'},
                                    {'CurrentReading': '31',
                                     'CurrentState': 'Normal',
                                     'DeviceID': 'iDRAC.Embedded.1#SystemBoardExhaustTemp',
                                     'HealthState': 'Normal',
                                     'Key': 'System Board Exhaust Temp',
                                     'Location': 'System Board Exhaust Temp',
                                     'OtherSensorTypeDescription': 'Not Available',
                                     'PrimaryStatus': 'Healthy',
                                     'SensorType': 'Temperature',
                                     'State': 'Enabled',
                                     'Type': 'Not Available'},
                                    {'CurrentReading': '37',
                                     'CurrentState': 'Normal',
                                     'DeviceID': 'iDRAC.Embedded.1#CPU1Temp',
                                     'HealthState': 'Normal',
                                     'Key': 'CPU1 Temp',
                                     'Location': 'CPU1 Temp',
                                     'OtherSensorTypeDescription': 'Not Available',
                                     'PrimaryStatus': 'Healthy',
                                     'SensorType': 'Temperature',
                                     'State': 'Enabled',
                                     'Type': 'Not Available'},
                                    {'CurrentReading': '39',
                                     'CurrentState': 'Normal',
                                     'DeviceID': 'iDRAC.Embedded.1#CPU2Temp',
                                     'HealthState': 'Normal',
                                     'Key': 'CPU2 Temp',
                                     'Location': 'CPU2 Temp',
                                     'OtherSensorTypeDescription': 'Not Available',
                                     'PrimaryStatus': 'Healthy',
                                     'SensorType': 'Temperature',
                                     'State': 'Enabled',
                                     'Type': 'Not Available'}],
            'Sensors_Voltage': [{'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU1VCOREPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU1 VCORE PG',
                                 'Location': 'CPU1 VCORE PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU2VCOREPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU2 VCORE PG',
                                 'Location': 'CPU2 VCORE PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#SystemBoard3.3VPG',
                                 'HealthState': 'Normal',
                                 'Key': 'System Board 3.3V PG',
                                 'Location': 'System Board 3.3V PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#SystemBoard5VAUXPG',
                                 'HealthState': 'Normal',
                                 'Key': 'System Board 5V AUX PG',
                                 'Location': 'System Board 5V AUX PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU2M23VPPPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU2 M23 VPP PG',
                                 'Location': 'CPU2 M23 VPP PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU1M23VPPPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU1 M23 VPP PG',
                                 'Location': 'CPU1 M23 VPP PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#SystemBoard1.05VPG',
                                 'HealthState': 'Normal',
                                 'Key': 'System Board 1.05V PG',
                                 'Location': 'System Board 1.05V PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU1M23VDDQPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU1 M23 VDDQ PG',
                                 'Location': 'CPU1 M23 VDDQ PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU1M23VTTPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU1 M23 VTT PG',
                                 'Location': 'CPU1 M23 VTT PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#SystemBoard5VSWITCHPG',
                                 'HealthState': 'Normal',
                                 'Key': 'System Board 5V SWITCH PG',
                                 'Location': 'System Board 5V SWITCH PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#SystemBoardVCCIOPG',
                                 'HealthState': 'Normal',
                                 'Key': 'System Board VCCIO PG',
                                 'Location': 'System Board VCCIO PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#SystemBoard2.5VAUXPG',
                                 'HealthState': 'Normal',
                                 'Key': 'System Board 2.5V AUX PG',
                                 'Location': 'System Board 2.5V AUX PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU2M01VDDQPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU2 M01 VDDQ PG',
                                 'Location': 'CPU2 M01 VDDQ PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU1M01VDDQPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU1 M01 VDDQ PG',
                                 'Location': 'CPU1 M01 VDDQ PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU2M23VTTPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU2 M23 VTT PG',
                                 'Location': 'CPU2 M23 VTT PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU2M01VTTPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU2 M01 VTT PG',
                                 'Location': 'CPU2 M01 VTT PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#SystemBoardNDCPG',
                                 'HealthState': 'Normal',
                                 'Key': 'System Board NDC PG',
                                 'Location': 'System Board NDC PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU2M01VPPPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU2 M01 VPP PG',
                                 'Location': 'CPU2 M01 VPP PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU1M01VPPPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU1 M01 VPP PG',
                                 'Location': 'CPU1 M01 VPP PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU2M23VDDQPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU2 M23 VDDQ PG',
                                 'Location': 'CPU2 M23 VDDQ PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#SystemBoard1.5VPG',
                                 'HealthState': 'Normal',
                                 'Key': 'System Board 1.5V PG',
                                 'Location': 'System Board 1.5V PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#SystemBoardPS2PGFail',
                                 'HealthState': 'Normal',
                                 'Key': 'System Board PS2 PG Fail',
                                 'Location': 'System Board PS2 PG Fail',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#SystemBoardBP15VPG',
                                 'HealthState': 'Normal',
                                 'Key': 'System Board BP1 5V PG',
                                 'Location': 'System Board BP1 5V PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#SystemBoard1.5VAUXPG',
                                 'HealthState': 'Normal',
                                 'Key': 'System Board 1.5V AUX PG',
                                 'Location': 'System Board 1.5V AUX PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU1M01VTTPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU1 M01 VTT PG',
                                 'Location': 'CPU1 M01 VTT PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#SystemBoardDIMMPG',
                                 'HealthState': 'Normal',
                                 'Key': 'System Board DIMM PG',
                                 'Location': 'System Board DIMM PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU1FIVRPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU1 FIVR PG',
                                 'Location': 'CPU1 FIVR PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#CPU2FIVRPG',
                                 'HealthState': 'Normal',
                                 'Key': 'CPU2 FIVR PG',
                                 'Location': 'CPU2 FIVR PG',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': 'Not Available',
                                 'CurrentState': 'Good',
                                 'DeviceID': 'iDRAC.Embedded.1#SystemBoardPS1PGFail',
                                 'HealthState': 'Normal',
                                 'Key': 'System Board PS1 PG Fail',
                                 'Location': 'System Board PS1 PG Fail',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': '110',
                                 'CurrentState': 'Normal',
                                 'DeviceID': 'iDRAC.Embedded.1#PS2Voltage',
                                 'HealthState': 'Normal',
                                 'Key': 'PS2 Voltage 2',
                                 'Location': 'PS2 Voltage 2',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'},
                                {'CurrentReading': '110',
                                 'CurrentState': 'Normal',
                                 'DeviceID': 'iDRAC.Embedded.1#PS1Voltage',
                                 'HealthState': 'Normal',
                                 'Key': 'PS1 Voltage 1',
                                 'Location': 'PS1 Voltage 1',
                                 'OtherSensorTypeDescription': 'Not Available',
                                 'PrimaryStatus': 'Healthy',
                                 'Reading(V)': 'Not Available',
                                 'SensorType': 'Voltage',
                                 'State': 'Enabled',
                                 'VoltageProbeIndex': 'Not Available',
                                 'VoltageProbeType': 'Not Available'}],
            'Subsystem': [{'Key': 'System', 'PrimaryStatus': 'Healthy'},
                          {'Key': 'Memory', 'PrimaryStatus': 'Healthy'},
                          {'Key': 'CPU', 'PrimaryStatus': 'Healthy'},
                          {'Key': 'Sensors_Fan', 'PrimaryStatus': 'Healthy'},
                          {'Key': 'PowerSupply', 'PrimaryStatus': 'Healthy'},
                          {'Key': 'Storage', 'PrimaryStatus': 'Healthy'},
                          {'Key': 'License', 'PrimaryStatus': 'Healthy'},
                          {'Key': 'Sensors_Voltage', 'PrimaryStatus': 'Healthy'},
                          {'Key': 'Sensors_Temperature', 'PrimaryStatus': 'Healthy'},
                          {'Key': 'Sensors_Battery', 'PrimaryStatus': 'Healthy'},
                          {'Key': 'VFlash', 'PrimaryStatus': 'Unknown'},
                          {'Key': 'Sensors_Intrusion', 'PrimaryStatus': 'Healthy'},
                          {'Key': 'Sensors_Amperage', 'PrimaryStatus': 'Healthy'}],
            'System': [{'AssetTag': 'Not Available',
                        'BIOSReleaseDate': '001/22/2018',
                        'BIOSVersionString': '2.7.1',
                        'BaseBoardChassisSlot': 'NA',
                        'BladeGeometry': '255',
                        'BoardPartNumber': '072T6DA08',
                        'BoardSerialNumber': 'CNFCP0083N01O4',
                        'CMCIP': 'Not Available',
                        'CPLDVersion': '1.0.1',
                        'ChassisModel': 'Not Available',
                        'ChassisName': 'Main System Chassis',
                        'ChassisServiceTag': 'G3CT6P2',
                        'ChassisSystemHeight': '2',
                        'CurrentRollupStatus': 'Healthy',
                        'DeviceDescription': 'System',
                        'DeviceType': 'Not Available',
                        'ExpressServiceCode': '35031432998',
                        'HostName': 'esxi1',
                        'Key': 'G3CT6P2',
                        'LifecycleControllerVersion': '2.50.50.50',
                        'MachineName': 'Not Available',
                        'Manufacturer': 'Dell Inc.',
                        'MaxCPUSockets': '2',
                        'MaxDIMMSlots': '24',
                        'MaxPCIeSlots': '7',
                        'MemoryOperationMode': 'OptimizerMode',
                        'Model': 'PowerEdge R730',
                        'NodeID': 'G3CT6P2',
                        'OSName': 'VMware ESXi 6.0.0 build-2494585',
                        'OSVersion': 'Not Available',
                        'PlatformGUID': '3250364f-c0c7-5480-4310-00334c4c4544',
                        'PowerCap': '180',
                        'PowerCapEnabledState': 'Disabled',
                        'PowerState': 'On',
                        'PrimaryStatus': 'Healthy',
                        'ServerAllocation': 'Not Available',
                        'ServiceTag': 'G3CT6P2',
                        'SysMemMaxCapacitySize': '3.0 TB',
                        'SysMemTotalSize': '128.0 GB',
                        'SysName': 'Not Available',
                        'SystemGeneration': '13G Monolithic',
                        'SystemID': '1536',
                        'SystemLockDown': 'Not Available',
                        'SystemRevision': '0',
                        'UUID': '4c4c4544-0033-4310-8054-c7c04f365032',
                        'VirtualAddressManagementApplication': 'Not Available',
                        '_Type': 'Server',
                        'iDRACURL': 'https://172.16.10.15:443',
                        'smbiosGUID': '44454c4c-3300-1043-8054-c7c04f365032'}],
            'SystemBoardMetrics': [{'CPUUsageAvg1D': '6',
                                    'CPUUsageAvg1H': '4',
                                    'CPUUsageAvg1W': '16',
                                    'CPUUsageMax1D': '31',
                                    'CPUUsageMax1H': '22',
                                    'CPUUsageMax1W': '31',
                                    'CPUUsageMin1D': '0',
                                    'CPUUsageMin1H': '0',
                                    'CPUUsageMin1W': '0',
                                    'IOUsageAvg1D': '0',
                                    'IOUsageAvg1H': '0',
                                    'IOUsageAvg1W': '0',
                                    'IOUsageMax1D': '0',
                                    'IOUsageMax1H': '0',
                                    'IOUsageMax1W': '0',
                                    'IOUsageMin1D': '0',
                                    'IOUsageMin1H': '0',
                                    'IOUsageMin1W': '0',
                                    'Key': 'SystemBoardMetrics',
                                    'MemoryUsageAvg1D': '0',
                                    'MemoryUsageAvg1H': '0',
                                    'MemoryUsageAvg1W': '0',
                                    'MemoryUsageMax1D': '0',
                                    'MemoryUsageMax1H': '0',
                                    'MemoryUsageMax1W': '0',
                                    'MemoryUsageMin1D': '0',
                                    'MemoryUsageMin1H': '0',
                                    'MemoryUsageMin1W': '0',
                                    'PeakAmperage': '2.3',
                                    'PeakHeadroom': '675',
                                    'PeakPower': '225',
                                    'SYSPeakCPUUsage': '100',
                                    'SYSPeakIOUsage': '34',
                                    'SYSPeakMemoryUsage': '15',
                                    'SYSPeakSYSUsage': '99',
                                    'SYSUsageAvg1D': '7',
                                    'SYSUsageAvg1H': '5',
                                    'SYSUsageAvg1W': '17',
                                    'SYSUsageMax1D': '32',
                                    'SYSUsageMax1H': '23',
                                    'SYSUsageMax1W': '32',
                                    'SYSUsageMin1D': '0',
                                    'SYSUsageMin1H': '1',
                                    'SYSUsageMin1W': '0',
                                    'SystemBoardMetrics': 'Not Available'}],
            'SystemMetrics': [{'EnergyConsumption': '2428.381',
                               'InletTempCriticalPerc': '0.0',
                               'InletTempWarnPerc': '0.0',
                               'Key': 'SystemMetrics',
                               'PowerConsumption': '758',
                               'SystemMetrics': 'Not Available'}],
            'Video': [{'Description': 'G200eR2',
                       'DeviceDescription': 'Embedded Video Controller 1',
                       'FQDD': 'Video.Embedded.1-1',
                       'Key': 'Video.Embedded.1-1',
                       'Manufacturer': 'Matrox Electronics Systems Ltd.'}],
            'VirtualDisk': [{'BlockSize': '512.0',
                             'BusProtocol': 'SAS',
                             'Cachecade': 'Not a Cachecade Virtual Disk',
                             'DeviceDescription': 'Virtual Disk 0 on Integrated RAID Controller 1',
                             'DiskCachePolicy': 'Default',
                             'FQDD': 'Disk.Virtual.0:RAID.Integrated.1-1',
                             'Key': 'Disk.Virtual.0:RAID.Integrated.1-1',
                             'Layout': 'Not Available',
                             'LockStatus': 'Unlocked',
                             'MediaType': 'Hard Disk Drive',
                             'Name': 'Virtual Disk 0',
                             'PhysicalDiskIDs': 'Disk.Bay.0:Enclosure.Internal.0-1:RAID.Integrated.1-1,Disk.Bay.1:Enclosure.Internal.0-1:RAID.Integrated.1-1,Disk.Bay.2:Enclosure.Internal.0-1:RAID.Integrated.1-1,Disk.Bay.3:Enclosure.Internal.0-1:RAID.Integrated.1-1',
                             'PrimaryStatus': 'Healthy',
                             'RAIDStatus': 'Online',
                             'RAIDTypes': 'RAID 5',
                             'ReadCachePolicy': 'Read Ahead',
                             'Size': '1675.12',
                             'SpanDepth': '1',
                             'SpanLength': '4',
                             'StripeSize': '65536',
                             'WriteCachePolicy': 'Write Back'}],
            'iDRAC': [{'DNSDomainName': 'esxi1.ballvenie.com',
                       'DNSRacName': 'idrac-G3CT6P2',
                       'DeviceDescription': 'iDRAC',
                       'FQDD': 'iDRAC.Embedded.1-1',
                       'FirmwareVersion': '2.50.50.50',
                       'GUID': '3250364f-c0c7-5480-4310-00334c4c4544',
                       'GroupName': 'Not Available',
                       'GroupStatus': 'Not Available',
                       'IPMIVersion': '2.0',
                       'IPv4Address': '172.16.10.15',
                       'IPv6Address': 'Not Available',
                       'Key': 'iDRAC.Embedded.1-1',
                       'LANEnabledState': '1',
                       'MACAddress': 'Not Available',
                       'Model': 'Enterprise',
                       'NICDuplex': 'Full',
                       'NICSpeed': '1000',
                       'PermanentMACAddress': 'd0:94:66:52:ea:32',
                       'ProductDescription': 'This system component provides a complete set of remote management functions for Dell PowerEdge servers',
                       'ProductInfo': 'Integrated Dell Remote Access Controller',
                       'SOLEnabledState': '1',
                       'SystemLockDown': 'Not Available',
                       'URLString': 'https://172.16.10.15:443'}],
            'iDRACNIC': [{'FQDD': 'iDRAC.Embedded.1-1',
                          'GroupName': 'Not Available',
                          'GroupStatus': 'Not Available',
                          'IPv4Address': '172.16.10.15',
                          'IPv6Address': 'Not Available',
                          'Key': 'iDRAC.Embedded.1-1',
                          'NICDuplex': 'Full',
                          'NICEnabled': 'Enabled',
                          'NICSpeed': '1000',
                          'PermanentMACAddress': 'd0:94:66:52:ea:32',
                          'PrimaryStatus': 'Healthy',
                          'ProductInfo': 'Integrated Dell Remote Access Controller',
                          'SwitchConnection': 'Not Available',
                          'SwitchPortConnection': 'Not Available'}]}

    def size(self, _capacity):
        capacity = _capacity
        for unit in ['KB', 'MB', 'GB', 'TB']:
            capacity = capacity / 1024
            if capacity < 1000:
                return "%s %s" % (round(capacity, 2), unit)

    def clean_host_field(self, data):
        return {
            'cate': 1,
            'name': data['System'][0]['HostName'],
            'sn': data['System'][0]['UUID'],
            'manufacturer': data['System'][0]['Manufacturer'],
            'model': data['System'][0]['Model'],
            'manage_ip': data['iDRAC'][0]['IPv4Address'],
            'os_distribution': '',
            'os_platform': data['System'][0]['OSName'],
            'os_version': data['System'][0]['OSVersion'],
            'total_cores': int(sum([int(i['NumberOfProcessorCores']) for i in data['CPU']])),
            'total_disk': int(sum([float(i['Size']) for i in data['PhysicalDisk']])),
            'total_memory': int(sum([float(i['Size'].split(' GB')[0]) for i in data['Memory']])),
            'enabled': True,
            'manage_ssh': 22,

        }

    def clean_host(self, data):
        _data = self.clean_host_field(data)
        return self.create_obj(host_models.Host, _data, {'sn': _data['sn']})

    def _clean_nic_field(self, data):
        return {
            'name': data['Key'],
            'ipaddress': data['IPv4Address'],
            'model': data['ProductName'],
            'macaddress': data['CurrentMACAddress'],
            'netmask': '',
        }

    def clean_nic(self, data, host_obj):
        self.clean(data['NIC'], host_models.NIC, self._clean_nic_field, host_obj, 'macaddress')

    def _clean_disk_field(self, data):
        return {
            'slot': data['Key'],
            'model': data['Model'],
            'capacity': data['Size'],
            'sn': data['SerialNumber'],
            'manufacturer': data['Manufacturer'],
            'iface_type': data['BusProtocol'],
            # 'name': data['Key'],
            # 'UsedSize':data['UsedSize'],
            # 'FreeSize':data['FreeSize'],
        }

    def clean_disk(self, data, host_obj):
        self.clean(data['PhysicalDisk'], host_models.Disk, self._clean_disk_field, host_obj, 'sn')

    def _clean_cpu_field(self, data):
        return {
            'slot': data['Key'],
            'manufacturer': data['CPUFamily'],
            'model': data['Model'],
            'cores': data['NumberOfProcessorCores'],
            'threads': data['NumberOfEnabledThreads'],
            # 'CurrentClockSpeed': data['CurrentClockSpeed'],
        }

    def clean_cpu(self, data, host_obj):
        self.clean(data['CPU'], host_models.CPU, self._clean_cpu_field, host_obj, 'slot')

    def _clean_memory_field(self, data):
        return {
            'slot': data['Key'],
            'manufacturer': data['Manufacturer'],
            'model': data['Model'],
            'capacity': data['Size'].split(' GB')[0],
            'sn': data['SerialNumber'],
        }

    def clean_memory(self, data, host_obj):
        self.clean(data['Memory'], host_models.Memory, self._clean_memory_field, host_obj, 'sn')

    def clean(self, data, model_class, clean_field, host_obj, filter_field):
        exinclde_list = [getattr(i, filter_field) for i in model_class.objects.filter(host_obj=host_obj)]
        # print(exinclde_list)
        for _data in data:
            _data = clean_field(_data)
            _data['host_obj'] = host_obj
            # host_models.Disk(_data)
            self.create_obj(
                model_class,
                _data,
                {'host_obj': host_obj, filter_field: _data[filter_field]}
            )
            # print(_data[filter_field])
            if _data[filter_field] in exinclde_list:
                exinclde_list.remove(_data[filter_field])
            # print(exinclde_list)

        for i in exinclde_list:
            obj = model_class.objects.filter(**{'host_obj': host_obj, filter_field: i})
            if obj:
                obj = obj.first()
                self._result.append("%s 刪除 %s" % (model_class.__name__, str(obj)))
                obj.delete()

    def run(self):
        # data = self.get_data()
        data = self.idrac_data
        self.host_obj = self.clean_host(data)
        self.clean_cpu(data, self.host_obj)
        self.clean_nic(data, self.host_obj)
        self.clean_disk(data, self.host_obj)
        self.clean_memory(data, self.host_obj)

        

        title = ''
        if 1 in self._status_list:
            title = '新增'
        elif 2 in self._status_list:
            title = '更新'

        if title:
            host_models.HostRecord.objects.create(
                host_obj=self.host_obj,
                title=title,
                summary=self.result
            )




@shared_task()
def idracinfo(**kwargs):
    data = kwargs
    idrac_id = data.pop('id')

    idrac_obj = host_models.IDRAC.objects.get(id=idrac_id)

    dell_emc = DellSync(idrac_obj.idrac_ip)

    idrac_obj.host = dell_emc.host_obj
    idrac_obj.save()

    return {'code': 200, 'data': dell_emc.result}
